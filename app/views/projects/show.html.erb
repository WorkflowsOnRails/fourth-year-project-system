<% content_for :banner do %>
  Projects

  <% if policy(@project).destroy? %>
    <%= button_to "Delete",
      {controller: :projects, action: :destroy, id: @project.id},
      method: :delete, class: 'btn pull-right btn-warning',
      data: { confirm: 'Are you sure you want to delete this project?' }
    %>
  <% end %>

  <% if (current_user.is_supervisor? && !@project.supervisors.include?(current_user)) ||
    (current_user.is_group_member? && !@project.group_members.include?(current_user))%>
    <%= link_to 'Join', project_join_path(@project),
        class: 'btn btn-primary pull-right' %>
  <% else %>
    <%= link_to 'Leave', project_leave_path(@project),
        class: 'btn btn-primary pull-right' %>
  <% end %>
<% end %>

<p>Project Name: <%= @project.name %></p>

<p>Project Description: <%= @project.description %></p>

<p>Supervisor(s):   
  <% @project.supervisors.each do |supervisor| %>
    <%= supervisor.full_name %>
  <% end %>
</p>

<p>Group Members: 
  <% @project.group_members.each do |member| %>
    <%= member.full_name %>
  <% end %>
</p>

<p>Programmes: 
  <% @programmes.each do |programme| %>
    <%= programme.programme %>
  <% end %>
</p>
